<!doctype html>
<html lang="en-CA">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Portfolio Growth Calculator | The Long Math</title>
  <meta name="description" content="Compare long-run growth of cash, bonds, GICs, and equities. Build a simple contribution+allocation portfolio and see where it lands. Toggle inflation-adjusted view." />
  <link rel="canonical" href="https://thelongmath.com/calculators/portfolio-growth/" />

  <!-- Site-wide theme + styles -->
  <script src="/assets/js/theme-init.js"></script>
  <link rel="stylesheet" href="/assets/css/styles.css">
  <script defer src="/assets/js/site.js"></script>

  <!-- Chart.js -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>

  <!-- Calculator-specific styles -->
  <link rel="stylesheet" href="/calculators/portfolio-growth/css/local.css">
</head>

<body>
  <div id="site-header"></div>
  
  <div class="wrap">
    <!-- Back link -->
    <a href="/calculators/" class="home-link">← Back to Tools and Calculators</a>

    <div class="card">

      <h1>Investment Growth Simulator</h1>
      <p class="lead">
        Compare long-run growth of cash, bonds, a 5-year GIC proxy, and equities. Build a simple monthly-contribution portfolio and see where it lands.
      </p>
      <p style="font-size: 13px; color: var(--muted); margin-top: 8px;">
        Some series are proxies derived from yields; see Method.
      </p>

      <!-- Data Status -->
      <div id="dataStatus" class="data-status loading">Loading data...</div>
      <div id="dataWarnings" class="data-status warning" style="display: none;"></div>

      <!-- Main Calculator Grid -->
      <div class="calc-grid">
        <!-- Left Column: Inputs -->
        <section class="panel">
          <h2>Portfolio Configuration</h2>
          
          <div class="input-group">
            <label for="startDate">Start Date</label>
            <select id="startDate"></select>
          </div>

          <div class="input-group">
            <label for="startingAmount">Starting Amount (CAD)</label>
            <input type="number" id="startingAmount" value="0" min="0" step="1000" />
          </div>

          <div class="input-group">
            <label for="monthlyContribution">Monthly Contribution (CAD)</label>
            <input type="number" id="monthlyContribution" value="500" min="0" step="100" />
          </div>

          <div class="input-group">
            <label for="horizonYears">Horizon (Years)</label>
            <input type="number" id="horizonYears" value="30" min="1" max="60" step="1" />
          </div>

          <div class="input-group">
            <h3 style="margin: 16px 0 8px; font-size: 14px;">Asset Allocation</h3>
            <div id="allocationContainer"></div>
            <div class="allocation-summary">
              <span>Total: <strong id="allocationTotal">0%</strong></span>
              <button id="resetAllocations" class="btn-small">Reset to Equal</button>
            </div>
            <div id="allocationError" class="error-message" style="display: none;"></div>
          </div>

          <div class="input-group">
            <label class="toggle-label">
              <input type="checkbox" id="inflationAdjusted" checked />
              <span>Show real (inflation-adjusted) values</span>
            </label>
          </div>
        </section>

        <!-- Right Column: Outputs -->
        <section class="panel">
          <h2>Results</h2>
          
          <div class="result-item">
            <div class="result-label">Ending Value</div>
            <div class="result-value" id="endingValue">—</div>
          </div>

          <div class="result-item">
            <div class="result-label">CAGR</div>
            <div class="result-value" id="cagr">—</div>
          </div>

          <div class="result-item">
            <div class="result-label">Total Contributions</div>
            <div class="result-value" id="totalContributions">—</div>
          </div>

          <div class="result-item">
            <div class="result-label">Period</div>
            <div class="result-value-small" id="period">—</div>
          </div>
        </section>
      </div>

      <!-- Chart -->
      <section class="panel" style="margin-top: 16px;">
        <h2>Growth Comparison</h2>
        <div class="chart-container">
          <canvas id="growthChart"></canvas>
        </div>
      </section>

      <!-- Methods Section -->
      <section class="panel" style="margin-top: 16px;">
        <h2>Method & Assumptions</h2>
        <ul style="font-size: 13px; color: var(--muted); line-height: 1.6; margin: 8px 0; padding-left: 20px;">
          <li><strong>Data sources:</strong> Local snapshots built from Shiller/FRED historical data.</li>
          <li><strong>Monthly compounding:</strong> Portfolio evolves monthly using asset class returns.</li>
          <li><strong>Contributions:</strong> Added at end of each month.</li>
          <li><strong>Inflation adjustment:</strong> Uses CPI ratio vs start month (real values deflated to start month base).</li>
          <li><strong>Portfolio returns:</strong> Weighted blend of asset class monthly returns: r_t = (index_t / index_{t-1}) - 1</li>
          <li><strong>Asset classes:</strong> Cash (DTB3 yield→index), Bonds (GS10 yield proxy→index), GIC proxy (GS5 yield proxy→index), Equities (Shiller P+D total return index)</li>
          <li><strong>FX conversion:</strong> Not applied in this version.</li>
        </ul>
      </section>
    </div>

    <!-- Disclaimer -->
    <div class="disclaimer">
      <p>
        <strong>Disclaimer:</strong> The calculators and tools at The Long Math are provided for educational purposes only
        and are not intended to constitute financial or tax advice. Results are based on simplified
        models and user-supplied assumptions. Users are recommended to complete their own due diligence.
      </p>
    </div>
  </div>

  <div id="footerMount"></div>

  <!-- Scripts -->
  <script src="/calculators/portfolio-growth/js/data-local.js"></script>
  <script src="/calculators/portfolio-growth/js/sim.js"></script>
  <script src="/calculators/portfolio-growth/js/chart.js"></script>
  <script src="/calculators/portfolio-growth/js/ui.js"></script>

</body>
</html>
